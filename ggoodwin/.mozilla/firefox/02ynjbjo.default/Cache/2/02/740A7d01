<?xml version="1.0" encoding="UTF-8"?><xsl:stylesheet xmlns:xl="http://www.w3.org/1999/xlink" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:b="http://www.backbase.com/b" xmlns:bx="http://www.backbase.com/bx" xmlns:s="http://www.backbase.com/s" xmlns:c="http://www.collegenet.com/c" xmlns:r25="http://www.collegenet.com/r25" xmlns:s25="http://www.collegenet.com/s25" xmlns:xhtml="http://www.w3.org/1999/xhtml" version="1.0">
<xsl:output method="xml" indent="yes" omit-xml-declaration="no"/>
<xsl:variable name="q">'</xsl:variable>
<xsl:variable name="DateParams" select="custom_atrbs/@date_params"/>
<xsl:variable name="DatePattern" select="custom_atrbs/@date_pattern"/>
<xsl:variable name="TimeFormat" select="custom_atrbs/@time_format"/>
<xsl:variable name="EditingAttributesPath" select="string('custom_atrbs/event_atrbs/r25:event/r25:custom_attribute[r25:attribute_id = //custom_atrbs/all_atrbs/r25:event_custom_attributes/requests/r25:attribute/r25:attribute_id]')"/>
<xsl:variable name="CreationAttributesPath" select="string('custom_atrbs/all_atrbs/r25:event_custom_attributes/requests/r25:attribute[r25:attribute_id = //custom_atrbs/type_atrbs/r25:event_types/r25:event_type/r25:custom_attributes/r25:attribute_id]')"/>
<xsl:template match="/">
<div c:purpose="SubEditors">
<table c:purpose="SubEditors" class="tblSubEditor" cellspacing="0" width="100%">
<tbody>
<xsl:if test="count(custom_atrbs/all_atrbs//r25:attribute[r25:attribute_id = //custom_atrbs/type_atrbs/r25:event_types/r25:event_type/r25:custom_attributes/r25:attribute_id][not(r25:attribute_id = '-16' or r25:attribute_id = '-17' or r25:attribute_id = '-18')]) = 0 and count(custom_atrbs/event_atrbs/r25:event/r25:custom_attribute[r25:attribute_id = //custom_atrbs/all_atrbs//r25:attribute/r25:attribute_id][not(r25:attribute_id = '-16' or r25:attribute_id = '-17' or r25:attribute_id = '-18')]) = 0 ">
<tr>
<td align="center">
There are no custom attributes for this event type.
</td>
</tr>
</xsl:if>

<xsl:apply-templates select="custom_atrbs/type_atrbs/r25:event_types/r25:event_type/r25:custom_attributes[r25:attribute_id = //custom_atrbs/all_atrbs//r25:attribute/r25:attribute_id]"/>
<xsl:apply-templates select="custom_atrbs/event_atrbs/r25:event/r25:custom_attribute[r25:attribute_id = //custom_atrbs/all_atrbs/r25:requests//r25:attribute/r25:attribute_id]"/>
</tbody>
</table>
</div>
</xsl:template>
<xsl:template match="*[name()='r25:attribute' or name()='r25:custom_attribute' or name()='r25:custom_attributes']">
<xsl:if test="not(r25:attribute_id = '-16' or r25:attribute_id = '-17' or r25:attribute_id = '-18')">
<xsl:variable name="AtrbID" select="r25:attribute_id"/>
<xsl:choose>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = 'F'">
<tr>
<xsl:attribute name="c:atrb_name">
<xsl:value-of select="r25:attribute_name"/>
</xsl:attribute>
<td colspan="2">
<div class="SubEditor_Container" b:behavior="SubEditorContainer">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:active">true</xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="c:active">false</xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<div class="SubEditor_Head" b:textselect="false">
<img src="https://25live-c.collegenet.com/hybridssl/v22.0/gfx/_.gif" class="SubEditor_Toggle" b:behavior="SubEditorToggleDisplay"/>
<input type="checkbox" c:purpose="atrb_active" b:behavior="SubEditorToggleState"/>
<span class="SubEditor_Label"><xsl:value-of select="normalize-space(r25:attribute_name)"/></span>
</div>
<div class="SubEditor_Body">
<div class="SubEditor_Instructions">
Enter the appropriate number (can include decimals):
</div>
<div>
<input type="text" b:required="false" value="" b:behavior="RsrvWizInput">
<xsl:attribute name="value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
<xsl:attribute name="b:info">This field must match the format 999.99</xsl:attribute>
<s:event b:on="validate">
<s:script>
if (_current.value == '') {
bpc.removeBXMLAttribute('b:pattern', _current);
} else {
if (_current.value.charAt(0) == '$'){
bpc.setBXMLAttribute('value', _current.value.substring(1), _current);
}
bpc.setBXMLAttribute('b:pattern', '^(\\d+)(\\.\\d+)?$', _current);
}
</s:script>
<s:super/>
</s:event>
<s:event b:on="change">
<s:super/>
<s:task b:action="trigger" b:event="Select" b:target="ancestor::div[@c:purpose='attributeContainer']"/>
</s:event>
</input>
</div>
<div class="example">
Examples: 8.25, 10.00, 12
</div>
</div>
<div c:purpose="CurrentlySelected">
<xsl:if test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:attribute name="c:value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
</xsl:if>
</div>
</div>
</td>
</tr>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = 'L'">
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = 'N'">
<tr>
<xsl:attribute name="c:atrb_name">
<xsl:value-of select="r25:attribute_name"/>
</xsl:attribute>        
<td colspan="2">
<div class="SubEditor_Container" b:behavior="SubEditorContainer">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:active">true</xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="c:active">false</xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<div class="SubEditor_Head" b:textselect="false">
<img src="https://25live-c.collegenet.com/hybridssl/v22.0/gfx/_.gif" class="SubEditor_Toggle" b:behavior="SubEditorToggleDisplay"/>
<input type="checkbox" c:purpose="atrb_active" b:behavior="SubEditorToggleState"/>
<span class="SubEditor_Label"><xsl:value-of select="normalize-space(r25:attribute_name)"/></span>
</div>
<div class="SubEditor_Body">
<div class="SubEditor_Instructions">
Enter the appropriate whole number (integer, no decimals):
</div>
<div>
<input type="text" b:required="false" b:behavior="RsrvWizInput">
<xsl:attribute name="value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
<xsl:attribute name="b:info">This field must contain an integer</xsl:attribute>
<s:event b:on="validate">
<s:script>
if (_current.value == '') {
bpc.removeBXMLAttribute('b:pattern', _current);
} else {
bpc.setBXMLAttribute('b:pattern', '^\\-?\\d+$', _current);
}
</s:script>
<s:super/>
</s:event>
<s:event b:on="change">
<s:task b:action="trigger" b:event="Select" b:target="ancestor::div[@c:purpose='attributeContainer']"/>
</s:event>
</input>
</div>
<div class="example">
Examples: 8, 10, 12
</div>
</div>
<div c:purpose="CurrentlySelected">
<xsl:if test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:attribute name="c:value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
</xsl:if>
</div>
</div>
</td>
</tr>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = 'R'">
<tr>
<xsl:attribute name="c:atrb_name">
<xsl:value-of select="r25:attribute_name"/>
</xsl:attribute>        
<td colspan="2">
<div class="SubEditor_Container" b:behavior="SubEditorContainer">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:active">true</xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="c:active">false</xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<div class="SubEditor_Head" b:textselect="false">
<img src="https://25live-c.collegenet.com/hybridssl/v22.0/gfx/_.gif" class="SubEditor_Toggle" b:behavior="SubEditorToggleDisplay"/>
<input type="checkbox" c:purpose="atrb_active" b:behavior="SubEditorToggleState"/>
<span class="SubEditor_Label"><xsl:value-of select="normalize-space(r25:attribute_name)"/></span>
</div>
<div class="SubEditor_Body">
<div class="SubEditor_Instructions">
Enter the path name of a file, URL or command line:
</div>
<div>
<input type="text" b:behavior="RsrvWizInput">
<xsl:attribute name="value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
<s:event b:on="change">
<s:task b:action="trigger" b:event="Select" b:target="ancestor::div[@c:purpose='attributeContainer']"/>
</s:event>
</input>
</div>
</div>
<div c:purpose="CurrentlySelected">
<xsl:if test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:attribute name="c:value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
</xsl:if>
</div>
</div>
</td>
</tr>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = '2'">
<xsl:call-template name="object">
<xsl:with-param name="object_type" select="'org'"/>
<xsl:with-param name="object_id" select="'2'"/>
</xsl:call-template>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = '3'">
<xsl:call-template name="object">
<xsl:with-param name="object_type" select="'contact'"/>
<xsl:with-param name="object_id" select="'3'"/>
</xsl:call-template>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = '4'">
<xsl:call-template name="object">
<xsl:with-param name="object_type" select="'space'"/>
<xsl:with-param name="object_id" select="'4'"/>
</xsl:call-template>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = '6'">
<xsl:call-template name="object">
<xsl:with-param name="object_type" select="'resource'"/>
<xsl:with-param name="object_id" select="'6'"/>
</xsl:call-template>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = 'I'">
<tr>
<xsl:attribute name="c:atrb_name">
<xsl:value-of select="r25:attribute_name"/>
</xsl:attribute>    
<td colspan="2">
<div class="SubEditor_Container" b:behavior="ObjectSelectors" c:id="container" c:obj_type="I">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:active">true</xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="c:active">false</xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<div class="SubEditor_Head" b:textselect="false">
<img src="https://25live-c.collegenet.com/hybridssl/v22.0/gfx/_.gif" class="SubEditor_Toggle" b:behavior="SubEditorToggleDisplay"/>
<input type="checkbox" c:purpose="atrb_active" b:behavior="SubEditorToggleState"/>
<span class="SubEditor_Label"><xsl:value-of select="normalize-space(r25:attribute_name)"/></span>
</div>
<table class="SubEditor_Table contentOptions" cellspacing="0" c:id="container_body">
<tr valign="top">
<td class="contentOptionSelect" c:obj_type="3" c:id="selectors">
<div align="center"><div class="currentSelectionHeader">
Select Your Image										
</div></div>
<div c:id="indices" class="RsrvWiz_CriteriaSelectTierOne">
<div class="RsrvWiz_CriteriaSelectHeader">
<div class="icon-photograph">
Find by...
</div>
</div>
<div c:id="options" class="RsrvWiz_CriteriaSelectBody">
<div b:behavior="AttrIndexOption" class="RsrvWiz_ObjectSelectItem" c:index_id="images_all" c:query="" c:xsl="">All Images</div>
<div b:behavior="AttrIndexOption" class="RsrvWiz_ObjectSelectItem" c:index_id="images_photographs" c:query="" c:xsl="">Photographs</div>
<div b:behavior="AttrIndexOption" class="RsrvWiz_ObjectSelectItem" c:index_id="images_diagrams" c:query="" c:xsl="">Diagrams</div>
<div b:behavior="ObjectOption">
<s:event b:on="click">
<s:task b:action="trigger" b:event="25Live_ImageNew" b:target="id('Controller')"/>
</s:event>
<div>
Upload New Image
</div>
</div>
</div>
</div>
<div c:id="divisions" class="RsrvWiz_CriteriaSelectTierTwo">
<div class="RsrvWiz_CriteriaSelectHeader">
<div class="icon-photograph">
Images
</div>
</div>
<div c:id="options" class="RsrvWiz_CriteriaSelectBody">
<div b:behavior="AttrDivisionOption" c:division_id="-1" b:disabled="true">	
Loading...
</div>
</div>
</div>
<div c:id="objects" class="RsrvWiz_CriteriaSelectTierThree">
<div class="RsrvWiz_ObjectSelectHeader">
<div class="icon-photograph"> </div>
</div>
<div c:id="options" class="RsrvWiz_ObjectSelectBody RsrvWiz_ObjectSelectBody_HideUnavailable">
<div b:behavior="AttrOption" c:obj_id="-1" b:disabled="true">
Loading...
</div>
</div>
<div class="RsrvWiz_ResultOptions">
<span class="RsrvWiz_ResultRefresh" b:action="trigger" b:event="AttrIndexChange" b:target="ancestor::div[@c:id='container'][1]">
Refresh
</span>
</div>
</div>
</td>
<td class="contentSelections" c:id="selected">
<div align="center"><div class="currentSelectionHeader">
Selected Image
</div></div>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_image/r25:attribute_image_name)=0)">
<div c:id="txt" class="currentSelection icon-photograph">
<div class="currentSelectionValue">
<xsl:value-of select="r25:attribute_image/r25:attribute_image_name"/>
</div>
<div class="currentSelectionImage">
<a target="_blank">
<img b:behavior="PreviewImage">
<xsl:attribute name="c:image"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
</img>
</a>
</div>
</div>
</xsl:when>
<xsl:otherwise>
<div c:id="txt" class="currentSelection">
<div class="currentSelectionBlank">
none selected
</div>
</div>
</xsl:otherwise>
</xsl:choose>
</td>
</tr>
</table>
<div c:purpose="CurrentlySelected" c:obj_type="I">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:if test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
<xsl:attribute name="c:obj_name"><xsl:value-of select="r25:attribute_image/r25:attribute_image_name"/></xsl:attribute>
</xsl:if>
</div>
</div>
</td>
</tr>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = 'E'">
<tr>
<xsl:attribute name="c:atrb_name">
<xsl:value-of select="r25:attribute_name"/>
</xsl:attribute>       
<td colspan="2">
<div class="SubEditor_Container" b:behavior="SubEditorContainer">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:active">true</xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="c:active">false</xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<div class="SubEditor_Head" b:textselect="false">
<img src="https://25live-c.collegenet.com/hybridssl/v22.0/gfx/_.gif" class="SubEditor_Toggle" b:behavior="SubEditorToggleDisplay"/>
<input type="checkbox" c:purpose="atrb_active" b:behavior="SubEditorToggleState"/>
<span class="SubEditor_Label"><xsl:value-of select="normalize-space(r25:attribute_name)"/></span>
</div>
<div class="SubEditor_Body">
<div class="SubEditor_Instructions">
Enter the date and time:
</div>
<div>
<input style="font-size:100%" b:behavior="datepickerInputFormat" b:observe="../b:datepicker[1]">
<xsl:attribute name="value"><xsl:value-of select="substring(r25:attribute_value,1,10)"/></xsl:attribute>
<s:whenactive>
<s:keys b:keys="enter"><s:task b:action="trigger" b:event="change"/></s:keys>
<s:keys b:keys="tab" b:bubble="false">
<s:keys b:keys="tab" b:action="focus" b:target="ancestor::td[1]/s25:time_spinner"/>
</s:keys>
<s:keys b:keys="ctrl+190">
<s:task b:action="trigger" b:event="OnClickNext" b:target="ancestor::s25:rsrv_wiz[1]"/>
</s:keys>
<s:keys b:keys="ctrl+188">
<s:task b:action="trigger" b:event="OnClickPrevious" b:target="ancestor::s25:rsrv_wiz[1]"/>
</s:keys>
</s:whenactive>
<s:event b:on="change">
<s:super/>
<s:task b:action="trigger" b:event="ValidateDateTime" b:target="ancestor::div[@c:purpose='attributeContainer']"/>
</s:event>
</input>
<b:datepicker b:type="float" b:input="." c:purpose="atrbdate">
<xsl:attribute name="b:format"><xsl:value-of select="$DatePattern"/></xsl:attribute>
</b:datepicker>
<s25:time_spinner c:purpose="time" b:step="5" b:style="margin-left:25px" b:behavior="RsrvWizInput">
<xsl:attribute name="b:format"><xsl:value-of select="$TimeFormat"/></xsl:attribute>
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="b:value"><xsl:value-of select="concat(substring(r25:attribute_value,12,2),substring(r25:attribute_value,15,2))"/></xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="b:value"><xsl:value-of select="1200"/></xsl:attribute>
<xsl:attribute name="b:stored-value"><xsl:value-of select="1200"/></xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<s:event b:on="input-change">
<s:super/>
<s:task b:action="trigger" b:event="ValidateDateTime" b:target="ancestor::div[@c:purpose='attributeContainer']"/>
</s:event>
</s25:time_spinner>
</div>
</div>
<div c:purpose="CurrentlySelected">
<xsl:if test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:attribute name="c:value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
</xsl:if>
</div>
</div>
</td>
</tr>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = 'T'">
<tr>
<xsl:attribute name="c:atrb_name">
<xsl:value-of select="r25:attribute_name"/>
</xsl:attribute>
<td colspan="2">
<div class="SubEditor_Container" b:behavior="SubEditorContainer">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:active">true</xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="c:active">false</xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<div class="SubEditor_Head" b:textselect="false">
<img src="https://25live-c.collegenet.com/hybridssl/v22.0/gfx/_.gif" class="SubEditor_Toggle" b:behavior="SubEditorToggleDisplay"/>
<input type="checkbox" c:purpose="atrb_active" b:behavior="SubEditorToggleState"/>
<span class="SubEditor_Label"><xsl:value-of select="normalize-space(r25:attribute_name)"/></span>
</div>
<div class="SubEditor_Body">
<div class="SubEditor_Instructions">
Enter the time:
</div>
<div>
<s25:time_spinner c:purpose="time" b:step="5" b:style="width:64px" b:behavior="RsrvWizInput">
<xsl:attribute name="b:format"><xsl:value-of select="$TimeFormat"/></xsl:attribute>
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:variable name="timehour" select="substring(r25:attribute_value,1,2)"/>
<xsl:variable name="timemin" select="substring(r25:attribute_value,4,2)"/>
<xsl:attribute name="b:value"><xsl:value-of select="concat($timehour,$timemin)"/></xsl:attribute>
<s:event b:on="input-change">
<s:super/>
<s:task b:action="trigger" b:event="ValidateTime" b:target="ancestor::div[@c:purpose='attributeContainer']"/>
</s:event>
</s25:time_spinner>
</div>
</div>
<div c:purpose="CurrentlySelected">
<xsl:if test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:attribute name="c:value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
</xsl:if>
</div>
</div>
</td>
</tr>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = 'D'">
<tr>
<xsl:attribute name="c:atrb_name">
<xsl:value-of select="r25:attribute_name"/>
</xsl:attribute>        
<td colspan="2">
<div class="SubEditor_Container" b:behavior="SubEditorContainer">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:active">true</xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="c:active">false</xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<div class="SubEditor_Head" b:textselect="false">
<img src="https://25live-c.collegenet.com/hybridssl/v22.0/gfx/_.gif" class="SubEditor_Toggle" b:behavior="SubEditorToggleDisplay"/>
<input type="checkbox" c:purpose="atrb_active" b:behavior="SubEditorToggleState"/>
<span class="SubEditor_Label"><xsl:value-of select="normalize-space(r25:attribute_name)"/></span>
</div>
<div class="SubEditor_Body">
<div class="SubEditor_Instructions">
Enter the date:	
</div>
<div>
<input style="font-size:100%" b:behavior="datepickerInputFormat" b:observe="../b:datepicker[1]">
<xsl:attribute name="value"><xsl:value-of select="substring(r25:attribute_value,1,10)"/></xsl:attribute>
<s:whenactive>
<s:keys b:keys="enter"><s:task b:action="trigger" b:event="change"/></s:keys>
<s:keys b:keys="tab" b:bubble="false">
<s:keys b:keys="tab" b:action="focus" b:target="ancestor::td[1]/s25:time_spinner"/>
</s:keys>
<s:keys b:keys="ctrl+190">
<s:task b:action="trigger" b:event="OnClickNext" b:target="ancestor::s25:rsrv_wiz[1]"/>
</s:keys>
<s:keys b:keys="ctrl+188">
<s:task b:action="trigger" b:event="OnClickPrevious" b:target="ancestor::s25:rsrv_wiz[1]"/>
</s:keys>
</s:whenactive>
<s:event b:on="change">
<s:super/>
<s:task b:action="trigger" b:event="ValidateDate" b:target="ancestor::div[@c:purpose='attributeContainer']"/>
</s:event>
</input>
<b:datepicker b:type="float" b:input="." c:purpose="atrbdate">
<xsl:attribute name="b:format"><xsl:value-of select="$DatePattern"/></xsl:attribute>
</b:datepicker>
</div>
</div>
<div c:purpose="CurrentlySelected">
<xsl:if test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:attribute name="c:value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
</xsl:if>
</div>
</div>
</td>
</tr>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = 'B'">
<tr>
<xsl:attribute name="c:atrb_name">
<xsl:value-of select="r25:attribute_name"/>
</xsl:attribute>        
<td colspan="2">
<div class="SubEditor_Container" b:behavior="SubEditorContainer">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:active">true</xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="c:active">false</xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<div class="SubEditor_Head" b:textselect="false">
<img src="https://25live-c.collegenet.com/hybridssl/v22.0/gfx/_.gif" class="SubEditor_Toggle" b:behavior="SubEditorToggleDisplay"/>
<input type="checkbox" c:purpose="atrb_active" b:behavior="SubEditorToggleState"/>
<span class="SubEditor_Label"><xsl:value-of select="normalize-space(r25:attribute_name)"/></span>
</div>
<div class="SubEditor_Body" style="font-size:120%">
<input type="radio" class="input-radio" value="Yes" b:behavior="RsrvWizInput">
<xsl:attribute name="name"><xsl:value-of select="concat('typeB_', r25:attribute_id)"/></xsl:attribute>
<xsl:if test="starts-with(r25:attribute_value, 'T') or starts-with(r25:attribute_value, 'Y') or starts-with(r25:attribute_value, '1')">
<xsl:attribute name="b:state">selected</xsl:attribute>
</xsl:if>
<s:event b:on="change">
<s:task b:action="trigger" b:event="BoolSelect" b:target="ancestor::div[@c:purpose='attributeContainer']"/>
</s:event>
</input>
<span>
Yes
</span>
<input type="radio" class="input-radio" value="No" b:behavior="RsrvWizInput" style="margin-left:15px;">
<xsl:attribute name="name"><xsl:value-of select="concat('typeB_', r25:attribute_id)"/></xsl:attribute>
<xsl:if test="starts-with(r25:attribute_value, 'F') or starts-with(r25:attribute_value, 'N') or starts-with(r25:attribute_value, '0')">
<xsl:attribute name="b:state">selected</xsl:attribute>
</xsl:if>
<s:event b:on="change">
<s:task b:action="trigger" b:event="BoolSelect" b:target="ancestor::div[@c:purpose='attributeContainer']"/>
</s:event>
</input>
<span>
No
</span>
</div>
<div c:purpose="CurrentlySelected">
<xsl:if test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:attribute name="c:value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
</xsl:if>
</div>
</div>
</td>
</tr>
</xsl:when>
<xsl:when test="//custom_atrbs/all_atrbs/r25:requests//r25:attribute[r25:attribute_id = $AtrbID]/r25:attribute_type = 'X'">
<tr>
<xsl:attribute name="c:atrb_name">
<xsl:value-of select="r25:attribute_name"/>
</xsl:attribute>        
<td colspan="2">
<div class="SubEditor_Container" b:behavior="SubEditorContainer">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:active">true</xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="c:active">false</xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<div class="SubEditor_Head" b:textselect="false">
<img src="https://25live-c.collegenet.com/hybridssl/v22.0/gfx/_.gif" class="SubEditor_Toggle" b:behavior="SubEditorToggleDisplay"/>
<input type="checkbox" c:purpose="atrb_active" b:behavior="SubEditorToggleState"/>
<span class="SubEditor_Label"><xsl:value-of select="normalize-space(r25:attribute_name)"/></span>
</div>
<div class="SubEditor_Body">

<div>
<textarea>
<s:event b:on="change">
<s:task b:action="trigger" b:event="SelectTextarea" b:target="ancestor::div[@c:purpose='attributeContainer']"/>
</s:event>
<xsl:value-of select="r25:attribute_value"/>
</textarea>

</div>
</div>
<div c:purpose="CurrentlySelected">
<xsl:if test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:attribute name="c:value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
</xsl:if>
</div>
</div>
</td>
</tr>
</xsl:when>
<xsl:otherwise>
<tr>
<xsl:attribute name="c:atrb_name">
<xsl:value-of select="r25:attribute_name"/>
</xsl:attribute>        
<td colspan="2">
<div class="SubEditor_Container" b:behavior="SubEditorContainer">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:active">true</xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="c:active">false</xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<div class="SubEditor_Head" b:textselect="false">
<img src="https://25live-c.collegenet.com/hybridssl/v22.0/gfx/_.gif" class="SubEditor_Toggle" b:behavior="SubEditorToggleDisplay"/>
<input type="checkbox" c:purpose="atrb_active" b:behavior="SubEditorToggleState"/>
<span class="SubEditor_Label"><xsl:value-of select="normalize-space(r25:attribute_name)"/></span>
</div>
<div class="SubEditor_Body">
<div class="SubEditor_Instructions">
Enter up to 80 alphanumeric characters:	
</div>
<div>
<input type="text" b:behavior="RsrvWizInput">
<xsl:attribute name="value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
<s:event b:on="change">
<s:task b:action="trigger" b:event="Select" b:target="ancestor::div[@c:purpose='attributeContainer']"/>
</s:event>
</input>
</div>
</div>
<div c:purpose="CurrentlySelected">
<xsl:if test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:attribute name="c:value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
</xsl:if>
</div>
</div>
</td>
</tr>
</xsl:otherwise>
</xsl:choose>
</xsl:if>
</xsl:template>
<xsl:template name="object">
<xsl:param name="object_type"/>
<xsl:param name="object_id"/>
<tr>
<xsl:attribute name="c:atrb_name">
<xsl:value-of select="r25:attribute_name"/>
</xsl:attribute>    
<td colspan="2">
<div class="SubEditor_Container" b:behavior="ObjectSelectors" c:id="container" c:obj_type="{$object_id}">
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:active">true</xsl:attribute>
</xsl:when>
<xsl:otherwise>
<xsl:attribute name="c:active">false</xsl:attribute>
</xsl:otherwise>
</xsl:choose>
<div class="SubEditor_Head" b:textselect="false">
<img src="https://25live-c.collegenet.com/hybridssl/v22.0/gfx/_.gif" class="SubEditor_Toggle" b:behavior="SubEditorToggleDisplay"/>
<input type="checkbox" c:purpose="atrb_active" b:behavior="SubEditorToggleState"/>
<span class="SubEditor_Label"><xsl:value-of select="normalize-space(r25:attribute_name)"/></span>
</div>
<table class="SubEditor_Table contentOptions" cellspacing="0" c:id="container_body">
<tr valign="top">
<td class="contentOptionSelect" c:obj_type="3" c:id="selectors">
<div align="center"><div class="currentSelectionHeader">
<xsl:choose>
<xsl:when test="$object_type = 'org'">
Select Your Organization										
</xsl:when>
<xsl:when test="$object_type = 'contact'">
Select Your Contact										
</xsl:when>
<xsl:when test="$object_type = 'space'">
Select Your Location										
</xsl:when>
<xsl:when test="$object_type = 'resource'">
Select Your Resource										
</xsl:when>				
</xsl:choose>
</div></div>
<div c:id="indices" class="RsrvWiz_CriteriaSelectTierOne">
<div class="RsrvWiz_CriteriaSelectHeader">
<div class="{concat('icon-',$object_type)}">
Find by...
</div>
</div>
<div c:id="options" class="RsrvWiz_CriteriaSelectBody">
<div b:behavior="AttrIndexOption" c:index_id="fav">
<div class="icon-favorite">
<xsl:choose>
<xsl:when test="id('WSSessionMgr')/@c:user-type = 'web'">
<xsl:choose>
<xsl:when test="$object_type = 'org'">
<s:execute>
<s:render>
<b:textnode>
<xsl:attribute name="b:label">Suggested Organizations</xsl:attribute>
</b:textnode>
</s:render>
</s:execute>
</xsl:when>
<xsl:when test="$object_type = 'contact'">
<s:execute>
<s:render>
<b:textnode>
<xsl:attribute name="b:label">Suggested Contacts</xsl:attribute>
</b:textnode>
</s:render>
</s:execute>
</xsl:when>
<xsl:when test="$object_type = 'space'">
<s:execute>
<s:render>
<b:textnode>
<xsl:attribute name="b:label">Suggested Locations</xsl:attribute>
</b:textnode>
</s:render>
</s:execute>
</xsl:when>
<xsl:when test="$object_type = 'resource'">
<s:execute>
<s:render>
<b:textnode>
<xsl:attribute name="b:label">Suggested Resources</xsl:attribute>
</b:textnode>
</s:render>
</s:execute>
</xsl:when>
</xsl:choose>			
</xsl:when>
<xsl:otherwise>
<xsl:choose>
<xsl:when test="$object_type = 'org'">
<s:execute>
<s:render>
<b:textnode>
<xsl:attribute name="b:label">Your Starred Organizations</xsl:attribute>
</b:textnode>
</s:render>
</s:execute>
</xsl:when>
<xsl:when test="$object_type = 'contact'">
<s:execute>
<s:render>
<b:textnode>
<xsl:attribute name="b:label">Your Starred Contacts</xsl:attribute>
</b:textnode>
</s:render>
</s:execute>
</xsl:when>
<xsl:when test="$object_type = 'space'">
<s:execute>
<s:render>
<b:textnode>
<xsl:attribute name="b:label">Your Starred Locations</xsl:attribute>
</b:textnode>
</s:render>
</s:execute>
</xsl:when>
<xsl:when test="$object_type = 'resource'">
<s:execute>
<s:render>
<b:textnode>
<xsl:attribute name="b:label">Your Starred Resources</xsl:attribute>
</b:textnode>
</s:render>
</s:execute>
</xsl:when>
</xsl:choose>
</xsl:otherwise>
</xsl:choose>
</div>
</div>
<div b:behavior="AttrIndexOption" c:index_id="search">
<div class="icon-search">
Search
</div>
</div>
</div>
</div>
<div c:id="divisions" class="RsrvWiz_CriteriaSelectTierTwo">
<div class="RsrvWiz_CriteriaSelectHeader">
<div class="{concat('icon-',$object_type)}">
Search
</div>
</div>
<div c:id="options" class="RsrvWiz_CriteriaSelectBody">
<div b:behavior="AttrDivisionOption" c:division_id="-1" b:disabled="true">	
Loading...
</div>
</div>
<div c:id="search" class="RsrvWiz_CriteriaSelectBody RsrvWiz_CriteriaSearch">
<div>
<xsl:choose>
<xsl:when test="$object_type = 'org'">
Search by Organization Name:
</xsl:when>
<xsl:when test="$object_type = 'contact'">
Search by Contact Name...									
</xsl:when>
<xsl:when test="$object_type = 'space'">
Search by Location Name:									
</xsl:when>
<xsl:when test="$object_type = 'resource'">
Search by Resource Name:
</xsl:when>
</xsl:choose>
</div><br/>
<input type="text" name="needle" value="" b:required="false" b:valid="true" style="width:150px" b:behavior="RsrvWizInput">
<s:whenactive>
<s:keys b:keys="enter" b:action="trigger" b:event="LoadSearch" b:target="ancestor::div[@c:id='container']"/>
</s:whenactive>
</input>
<b:button b:action="trigger" b:event="LoadSearch" b:target="ancestor::div[@c:id='container']">
Search
</b:button>
</div>
</div>
<div c:id="objects" class="RsrvWiz_CriteriaSelectTierThree">
<div class="RsrvWiz_ObjectSelectHeader">
<div class="{concat('icon-',$object_type)}"> </div>
</div>
<div c:id="options" class="RsrvWiz_ObjectSelectBody">
<div b:behavior="AttrOption" c:obj_id="-1" b:disabled="true">
Loading...
</div>
</div>
</div>
</td>
<td class="contentSelections" c:id="selected">
<div align="center"><div class="currentSelectionHeader">
<xsl:choose>
<xsl:when test="$object_type = 'org'">
Selected Organization
</xsl:when>
<xsl:when test="$object_type = 'contact'">
Selected Contact
</xsl:when>
<xsl:when test="$object_type = 'space'">
Selected Location
</xsl:when>
<xsl:when test="$object_type = 'resource'">
Selected Resource
</xsl:when>
</xsl:choose>
</div></div>
<xsl:choose>
<xsl:when test="not(string-length(r25:attribute_organization/r25:attribute_organization_name)=0)">
<div c:id="txt" class="currentSelection icon-org">
<div class="currentSelectionValue">
<xsl:value-of select="r25:attribute_organization/r25:attribute_organization_name"/>
</div>
</div>
</xsl:when>
<xsl:when test="not(string-length(r25:attribute_contact/r25:attribute_contact_name)=0)">
<div c:id="txt" class="currentSelection icon-contact">
<div class="currentSelectionValue">
<xsl:value-of select="r25:attribute_contact/r25:attribute_contact_name"/>
</div>
</div>
</xsl:when>
<xsl:when test="not(string-length(r25:attribute_space/r25:attribute_space_name)=0)">
<div c:id="txt" class="currentSelection icon-space">
<div class="currentSelectionValue">
<xsl:value-of select="r25:attribute_space/r25:attribute_space_name"/>
</div>
</div>
</xsl:when>
<xsl:when test="not(string-length(r25:attribute_resource/r25:attribute_resource_name)=0)">
<div c:id="txt" class="currentSelection icon-resource">
<div class="currentSelectionValue">
<xsl:value-of select="r25:attribute_resource/r25:attribute_resource_name"/>
</div>
</div>
</xsl:when>
<xsl:otherwise>
<div c:id="txt" class="currentSelection">
<div class="currentSelectionBlank">
none selected
</div>
</div>
</xsl:otherwise>
</xsl:choose>
</td>
</tr>
</table>
<div c:purpose="CurrentlySelected">
<xsl:attribute name="c:obj_type"><xsl:value-of select="$object_type"/></xsl:attribute>
<xsl:attribute name="c:obj_id"><xsl:value-of select="r25:attribute_id"/></xsl:attribute>
<xsl:if test="not(string-length(r25:attribute_value)=0)">
<xsl:attribute name="c:value"><xsl:value-of select="r25:attribute_value"/></xsl:attribute>
<xsl:attribute name="c:obj_name">
<xsl:choose>
<xsl:when test="$object_type = 'org'">
<xsl:value-of select="r25:attribute_organization/r25:attribute_organization_name"/>
</xsl:when>
<xsl:when test="$object_type = 'contact'">
<xsl:value-of select="r25:attribute_contact/r25:attribute_contact_name"/>
</xsl:when>
<xsl:otherwise/>
</xsl:choose>
</xsl:attribute>
</xsl:if>
</div>
</div>
</td>
</tr>
</xsl:template>
</xsl:stylesheet>